!function(t,e){"function"==typeof define&&define.amd?define([],(function(){return t.SignaturePad=e()})):"object"==typeof exports?module.exports=e():t.SignaturePad=e()}(this,(function(){return function(t){"use strict";var e=function(t,e){var n=this,i=e||{};this.velocityFilterWeight=i.velocityFilterWeight||.7,this.minWidth=i.minWidth||.5,this.maxWidth=i.maxWidth||2.5,this.dotSize=i.dotSize||function(){return(this.minWidth+this.maxWidth)/2},this.penColor=i.penColor||"black",this.backgroundColor=i.backgroundColor||"rgba(0,0,0,0)",this.onEnd=i.onEnd,this.onBegin=i.onBegin,this._canvas=t,this._ctx=t.getContext("2d"),this.clear(),this._handleMouseDown=function(t){1===t.which&&(n._mouseButtonDown=!0,n._strokeBegin(t))},this._handleMouseMove=function(t){n._mouseButtonDown&&n._strokeUpdate(t)},this._handleMouseUp=function(t){1===t.which&&n._mouseButtonDown&&(n._mouseButtonDown=!1,n._strokeEnd(t))},this._handleTouchStart=function(t){if(1==t.targetTouches.length){var e=t.changedTouches[0];n._strokeBegin(e)}},this._handleTouchMove=function(t){t.preventDefault();var e=t.targetTouches[0];n._strokeUpdate(e)},this._handleTouchEnd=function(t){t.target===n._canvas&&(t.preventDefault(),n._strokeEnd(t))},this._handleMouseEvents(),this._handleTouchEvents()};e.prototype.clear=function(){var t=this._ctx,e=this._canvas;t.fillStyle=this.backgroundColor,t.clearRect(0,0,e.width,e.height),t.fillRect(0,0,e.width,e.height),this._reset()},e.prototype.toDataURL=function(){var t=this._canvas;return t.toDataURL.apply(t,arguments)},e.prototype.fromDataURL=function(t){var e=this,n=new Image,i=window.devicePixelRatio||1,a=this._canvas.width/i,r=this._canvas.height/i;this._reset(),n.src=t,n.onload=function(){e._ctx.drawImage(n,0,0,a,r)},this._isEmpty=!1},e.prototype._strokeUpdate=function(t){var e=this._createPoint(t);this._addPoint(e)},e.prototype._strokeBegin=function(t){this._reset(),this._strokeUpdate(t),"function"==typeof this.onBegin&&this.onBegin(t)},e.prototype._strokeDraw=function(t){var e=this._ctx,n="function"==typeof this.dotSize?this.dotSize():this.dotSize;e.beginPath(),this._drawPoint(t.x,t.y,n),e.closePath(),e.fill()},e.prototype._strokeEnd=function(t){var e=this.points.length>2,n=this.points[0];!e&&n&&this._strokeDraw(n),"function"==typeof this.onEnd&&this.onEnd(t)},e.prototype._handleMouseEvents=function(){this._mouseButtonDown=!1,this._canvas.addEventListener("mousedown",this._handleMouseDown),this._canvas.addEventListener("mousemove",this._handleMouseMove),t.addEventListener("mouseup",this._handleMouseUp)},e.prototype._handleTouchEvents=function(){this._canvas.style.msTouchAction="none",this._canvas.style.touchAction="none",this._canvas.addEventListener("touchstart",this._handleTouchStart),this._canvas.addEventListener("touchmove",this._handleTouchMove),this._canvas.addEventListener("touchend",this._handleTouchEnd)},e.prototype.on=function(){this._handleMouseEvents(),this._handleTouchEvents()},e.prototype.off=function(){this._canvas.removeEventListener("mousedown",this._handleMouseDown),this._canvas.removeEventListener("mousemove",this._handleMouseMove),t.removeEventListener("mouseup",this._handleMouseUp),this._canvas.removeEventListener("touchstart",this._handleTouchStart),this._canvas.removeEventListener("touchmove",this._handleTouchMove),this._canvas.removeEventListener("touchend",this._handleTouchEnd)},e.prototype.isEmpty=function(){return this._isEmpty},e.prototype._reset=function(){this.points=[],this._lastVelocity=0,this._lastWidth=(this.minWidth+this.maxWidth)/2,this._isEmpty=!0,this._ctx.fillStyle=this.penColor},e.prototype._createPoint=function(t){var e=this._canvas.getBoundingClientRect();return new n(t.clientX-e.left,t.clientY-e.top)},e.prototype._addPoint=function(t){var e,n,a,r=this.points;r.push(t),r.length>2&&(3===r.length&&r.unshift(r[0]),e=this._calculateCurveControlPoints(r[0],r[1],r[2]).c2,n=this._calculateCurveControlPoints(r[1],r[2],r[3]).c1,a=new i(r[1],e,n,r[2]),this._addCurve(a),r.shift())},e.prototype._calculateCurveControlPoints=function(t,e,i){var a=t.x-e.x,r=t.y-e.y,s=e.x-i.x,o=e.y-i.y,l=(t.x+e.x)/2,c=(t.y+e.y)/2,d=(e.x+i.x)/2,p=(e.y+i.y)/2,u=Math.sqrt(a*a+r*r),m=Math.sqrt(s*s+o*o),h=m/(u+m),y=d+(l-d)*h,_=p+(c-p)*h,f=e.x-y,v=e.y-_;return{c1:new n(l+f,c+v),c2:new n(d+f,p+v)}},e.prototype._addCurve=function(t){var e,n,i=t.startPoint;e=t.endPoint.velocityFrom(i),e=this.velocityFilterWeight*e+(1-this.velocityFilterWeight)*this._lastVelocity,n=this._strokeWidth(e),this._drawCurve(t,this._lastWidth,n),this._lastVelocity=e,this._lastWidth=n},e.prototype._drawPoint=function(t,e,n){var i=this._ctx;i.moveTo(t,e),i.arc(t,e,n,0,2*Math.PI,!1),this._isEmpty=!1},e.prototype._drawCurve=function(t,e,n){var i,a,r,s,o,l,c,d,p,u,m,h=this._ctx,y=n-e;for(i=Math.floor(t.length()),h.beginPath(),r=0;i>r;r++)l=(o=(s=r/i)*s)*s,u=(p=(d=(c=1-s)*c)*c)*t.startPoint.x,u+=3*d*s*t.control1.x,u+=3*c*o*t.control2.x,u+=l*t.endPoint.x,m=p*t.startPoint.y,m+=3*d*s*t.control1.y,m+=3*c*o*t.control2.y,m+=l*t.endPoint.y,a=e+l*y,this._drawPoint(u,m,a);h.closePath(),h.fill()},e.prototype._strokeWidth=function(t){return Math.max(this.maxWidth/(t+1),this.minWidth)};var n=function(t,e,n){this.x=t,this.y=e,this.time=n||(new Date).getTime()};n.prototype.velocityFrom=function(t){return this.time!==t.time?this.distanceTo(t)/(this.time-t.time):1},n.prototype.distanceTo=function(t){return Math.sqrt(Math.pow(this.x-t.x,2)+Math.pow(this.y-t.y,2))};var i=function(t,e,n,i){this.startPoint=t,this.control1=e,this.control2=n,this.endPoint=i};return i.prototype.length=function(){var t,e,n,i,a,r,s,o,l=0;for(t=0;10>=t;t++)e=t/10,n=this._point(e,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),i=this._point(e,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y),t>0&&(s=n-a,o=i-r,l+=Math.sqrt(s*s+o*o)),a=n,r=i;return l},i.prototype._point=function(t,e,n,i,a){return e*(1-t)*(1-t)*(1-t)+3*n*(1-t)*(1-t)*t+3*i*(1-t)*t*t+a*t*t*t},e}(document)}));const RentMy={globalSelector:".rentmy-main-wrapper",template:{isInit:!1,init:function(){this.isInit=!0,$(RentMy.globalSelector).on("click",".rentmy-mobile-menubar",(function(){$("body").find(".rentmy-nav-manu ").slideToggle(200)})).on("click",".rentmy-modalclose, .rentmy-datetime-modal-overlay",(function(){$(".rentmy-datetime-modal-overlay").removeClass("is-open")})).on("click",".rentmy-modal",(function(t){t.stopPropagation()})).on("click","#search-btn",(function(t){t.preventDefault(),this.searchProduct($("#search-product").val())})).on("keyup keypress","#search-form",(function(t){if(13===(t.keyCode||t.which)||"Enter"===t.key)return t.preventDefault(),this.searchProduct($("#search-product").val()),!1})).on("keyup","#subscription-email",(function(t){let e=$(this).val();const n="#subscribe-btn";if(e.length>6){/^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,6})+$/.test(e)?($(n).prop("disabled",!1),$(n).removeClass("disabled")):($(n).prop("disabled",!0),$(n).addClass("disabled"))}else $(n).prop("disabled",!0),$(n).addClass("disabled")})).on("submit","#subscribe-form",(function(t){t.preventDefault();const e=$(this).find("#subscription-email").val();this.subscribeSubmit(e)})).on("click",".rentmy-search-bar, .rentmy-search-closebar",(function(){$(RentMy.globalSelector).find(".rentmy-search-body").toggleClass("rentmy-search-show")})).on("click",".rentmy-payment-collaps-btn",(function(t){t.preventDefault();const e=$(this);e.next().hasClass("show")?e.next().removeClass("show"):(e.parent().parent().find(".rentmy-payment-collaps-content").removeClass("show"),e.parent().parent().find(".rentmy-payment-collaps-content").slideUp(350),e.next().toggleClass("show")),e.next().slideToggle(350)})).on("click",".rentmy-fulfillment-collaps .rentmy-fulfillment-collaps-item .rentmy-fulfillment-collaps-btn",(function(t){$(this).find("input[type=radio]").prop("checked",!0)})).on("click",".rentmy-modalclose",(function(){$(RentMy.globalSelector).find(".rentmy-product-modal-overlay").removeClass("is-open"),$(RentMy.globalSelector).find(".rentmy-package-modal-overlay").removeClass("is-open")})).on("click",".rentmy-modal-cartbtn",(function(){RentMy.products.addToCart()})).on("submit",".setCrtDateTime",(function(t){t.preventDefault();const e=$(this).serializeArray();let n={};$.map(e,(function(t,e){n[t.name]=t.value})),null==n.start_time&&(n.start_time=""),null==n.rent_end&&(n.rent_end=""),null==n.end_time&&(n.end_time=""),n.action_type="set_cart_date_time",RentMy.cartWidget.submitSelectDatePopup(n)})),$(RentMy.globalSelector).find("select.timelist").html(["Select Time"].concat(...RentMy.helpers.getTimeRanges(15,"en")).map(t=>`<option value="${"Select Time"!=t?t:""}">${t}</option>`))},searchProduct:function(t){window.location=$("#search-form").attr("action")+"?search="+t},subscribeSubmit:async function(t){const e=await doPost({email:t,action_type:"newsletter_subscription"});try{const t=JSON.parse(e);t.error?RentMy.alert.errorAlert(t.error):RentMy.alert.successAlert(t.message)}catch(t){}}},cartWidget:{globalSelector:null,$elm:null,$sidebar:null,$datePopup:null,sidebar:null,cart:!1,showAvailableLabel:!1,isInit:!1,init:function(){if(this.isInit=!0,this.globalSelector=RentMy.globalSelector,this.$elm=$(this.globalSelector).find(".rentmy-cartbar-launcher"),this.$sidebar=$(this.globalSelector).find(".rentmy-cartsidebar-overlay"),this.$datePopup=$(this.globalSelector).find(".rentmy-datetime-modal-overlay"),this.sidebar={$rent_start:$(this.globalSelector).find(".rentmy-cartsidebar-overlay").find(".rentmy-selected-date-leftside p"),$rent_end:$(this.globalSelector).find(".rentmy-cartsidebar-overlay").find(".rentmy-selected-date-rightside p")},window.dispatchEvent(new CustomEvent("rentMy.cart.init",{bubbles:!0,detail:{cart:this}})),cart=localStorage.getItem("cart"),null!=cart||null!=cart)try{cart=JSON.parse(cart),null!=cart.cart_items&&RENTMY_CART_TOKEN===cart.token?(this.setValue(cart),this.setCartDateTime()):this.removeCart()}catch(t){console.log(t),this.removeCart()}$(RentMy.globalSelector).on("click",".rentmy-cartbar-launcher",(function(){RentMy.cartWidget.openMiniCartSidebar()})).on("click",".rentmy-remove-product",(function(){const t=JSON.parse($(this).closest("li").attr("data-trace"));RentMy.cartWidget.deleteCartItem(t.cart_item_id,t.product_id)})).on("click",".rentmy-cart-modalclose",(function(){RentMy.cartWidget.closeMiniCartSidebar()})).on("click",".rentmy-cartsidebar-overlay .rentmy-num-in span",(async function(){var t=$(this).parents(".rentmy-number-block").find("input.rentmy-in-num");let e="increase";if($(this).hasClass("rentmy-minus")){var n=parseInt(t.val())-1;if((n=await n<1?0:n)<2?$(this).addClass("rentmy-dis"):$(this).removeClass("rentmy-dis"),n<0)return void RentMy.alert.errorAlert("Minimum quantity exhausted!");e="decrease";const i=await JSON.parse($(this).closest("li").attr("data-trace"));RentMy.cartWidget.update_quantity(e,i)}else{(n=parseInt(t.val())+1)>1&&$(this).parents(".rentmy-num-block").find(".rentmy-minus").removeClass("rentmy-dis");const i=await JSON.parse($(this).closest("li").attr("data-trace"));RentMy.cartWidget.update_quantity(e,i)}})).on("click",".rentmy-selected-date",(function(){return RentMy.cartWidget.openSelectDate(),!1})).on("click",".close-datetime-popup",(function(){RentMy.cartWidget.closeDatetimePopup()}))},addToCart:async function(t){const e=await RentMy.helpers.ajaxPost(t);try{let n=JSON.parse(e);window.dispatchEvent(new CustomEvent("rentMy.cart.ItemAdded",{bubbles:!0,detail:{cart:this,request:t,response:n}})),null!=n.status&&"OK"===n.status&&this.setValue(n.data),null!=n.status&&"NOK"===n.status&&RentMy.alert.errorAlert(n.result.error)}catch(t){}},update_quantity:async function(t,e){let n=0;"increase"==t&&(n=1),e.action_type="cart_quantity_update",e.increment=n;const i=await RentMy.helpers.ajaxPost(e);try{let t=JSON.parse(i);window.dispatchEvent(new CustomEvent("rentMy.cart.quantityUpdate",{bubbles:!0,detail:{cart:this,request:e,response:t}})),null!=t.status&&"OK"===t.status&&this.setValue(t.data),null!=t.result&&null!=t.result.error&&RentMy.alert.errorAlert(t.result.error)}catch(t){}},deleteCartItem:async function(t,e){const n={action_type:"delete_cart_item",cart_item_id:t,product_id:e},i=await RentMy.helpers.ajaxPost(n);try{let t=JSON.parse(i);window.dispatchEvent(new CustomEvent("rentMy.cart.itemDelete",{bubbles:!0,detail:{cart:this,request:n,response:t}})),null!=t.status&&"OK"===t.status&&this.setValue(t.data)}catch(t){}},setValue:function(t){if(null==t)return;t.enableCheckoutButton=!0;let e=[];if(null!=t.errors&&(e=[...t.errors.ids],RentMy.alert.errorAlert(t.errors.message),delete t.errors,t.enableCheckoutButton=!1),this.cart=t,window.dispatchEvent(new CustomEvent("rentMy.cart.dataBind",{bubbles:!0,detail:{cart:this,data:this.cart}})),localStorage.setItem("cart",JSON.stringify(t)),RentMy.checkout.isInit)try{const e=JSON.parse(t.response);RentMy.checkout.bindOrderData(e)}catch(t){}null!=t.total_quantity&&this.$elm.find(".rentmy-cartbar-launcher-summary #item-count").html((t.cart_items.length||0)+" items"),null!=t.total&&(this.$elm.find(".rentmy-cartbar-launcher-summary #cart-total").html(t.total),this.$sidebar.find(".rentmy-cart-sidebar-summary .rentmy-amount").html(t.total)),this.showAvailableLabel=!1;let n="<span>";if(null!=t.rent_start&&0!=t.rent_end&&(this.showAvailableLabel=!0,this.sidebar.$rent_start.html(t.rent_start.date+", "+t.rent_start.time).attr("data-date",JSON.stringify(t.rent_start)),n+=` <strong>${t.rent_start.date}</strong> <small>${t.rent_start.time}</small>`),0!=t.rent_end&&null!=t.rent_end&&(this.sidebar.$rent_end.html(t.rent_end.date+", "+t.rent_end.time).attr("data-date",JSON.stringify(t.rent_end)),n+=` - <strong>${t.rent_end.date}</strong><small>${t.rent_end.time}</small>`),n+="</span>",this.$elm.find(".rentmy-dates").html(n),0==t.rent_start&&this.resetAllDateTimes(),t.enableCheckoutButton?this.$sidebar.find("a.rentmy-checkout-btn").removeClass("disabled"):this.$sidebar.find("a.rentmy-checkout-btn").addClass("disabled"),null!=t.cart_items){let n="";if(t.cart_items.length>0)for(const i of t.cart_items){let t="rentmy-list-item";for(const n of e)(i.id=n==i.id)&&(t+=" rentmy-list-empty-item");n+=`<li data-trace='${i.trace}'>\n                            <div data-id="${i.id}" class="${t}">\n                                <img class="rentmy-product-image" src="${i.image}" />\n                                <div class="rentmy-cart-line">\n                                    <div class="rentmy-product-name rentmy-large">${i.name}</div>\n                                    <div class="rentmy-modal-quantity">\n                                        <div class="rentmy-number-block">\n                                            <div class="rentmy-num-in">\n                                                <span class="rentmy-minus rentmy-dis">-</span>`,this.showAvailableLabel?n+=`<input type="text" class="rentmy-in-num" value="${i.quantity}" max="${i.available}" readonly="">`:n+=`<input type="text" class="rentmy-in-num" value="${i.quantity}" readonly="">`,n+=`<span class="rentmy-plus">+</span>\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <span class="rentmy-price">${RentMy.helpers.currencyFormat(i.price)}</span>`,this.showAvailableLabel&&(n+=`<p>Available: <span class="rentmy-available">${i.available}</span></p>`),n+='<button class="rentmy-remove-product"><i class="lni lni-close"></i></button>\n                                </div>\n                            </div>\n                        </li>'}this.$sidebar.find(".rentmy-cart-sidebar-lines ul").html(n),this.checkAndUpdateAvailability(),this.$elm.addClass("rentmy-cartbar-launcher-hover").delay(4e3).queue((function(){$(this).removeClass("rentmy-cartbar-launcher-hover").dequeue()}))}},openSelectDate:function(){this.setCartDateTime(),this.$datePopup.addClass("is-open")},submitSelectDatePopup:async function(t){const e=await RentMy.helpers.ajaxPost(t);try{let n=JSON.parse(e);window.dispatchEvent(new CustomEvent("rentMy.cart.changeRentalDateTime",{bubbles:!0,detail:{cart:this,request:t,response:n}})),null!=n.status&&"NOK"!==n.status?(this.setValue(n.data),this.setCartDateTime()):(null!=n.result.message&&RentMy.alert.errorAlert(n.result.message),null==n.cartReset&&this.resetAllDateTimes())}catch(t){}this.closeDatetimePopup()},openMiniCartSidebar:async function(){await this.checkAndUpdateAvailability(),await this.$sidebar.addClass("is-open")},closeMiniCartSidebar:function(){this.$sidebar.removeClass("is-open")},checkAndUpdateAvailability:async function(){if(this.showAvailableLabel&&null!=this.cart.cart_items&&this.cart.cart_items.length>0){const t=await RentMy.helpers.ajaxPost({action_type:"cart_available_counts"});try{let e=JSON.parse(t);if(window.dispatchEvent(new CustomEvent("rentMy.cart.checkAvailability",{bubbles:!0,detail:{cart:this,response:e}})),null!=e.status&&"OK"===e.status){const t=this.$sidebar.find(".rentmy-list-item");for(const n of e.result.data)$.each(t,(t,e)=>{const i=$(e);i.attr("data-id")==n.cart_item_id&&i.find(".rentmy-available").html(n.available)})}}catch(t){}}},closeDatetimePopup:function(){this.$datePopup.removeClass("is-open")},setCartDateTime:function(){if(this.cart){if(0==this.cart.rent_start)return void this.resetAllDateTimes();const t=this.sidebar.$rent_start.attr("data-date");if(null==t)return!1;const e=JSON.parse(t),n=JSON.parse(this.sidebar.$rent_end.attr("data-date")),i=this.$datePopup.find('.rentmy-datetime-input input[type="date"]'),a=$(i[0]),r=$(i[1]);a.val(e.dateJS),r.val(n.dateJS);const s=this.$datePopup.find('select.timelist[name="start_time"]'),o=this.$datePopup.find('select.timelist[name="end_time"]');s.find(`option[value="${e.time.replace(/^(?:00:)?0?/,"")}"]`).prop("selected",!0),o.find(`option[value="${n.time.replace(/^(?:00:)?0?/,"")}"]`).prop("selected",!0);const l=$(RentMy.globalSelector).find(".rentmy-product-datetime"),c=l.find('input[type="date"]'),d=$(c[0]),p=$(c[1]);d.val(e.dateJS),p.val(n.dateJS);const u=l.find('select.timelist[name="start_time"]'),m=l.find('select.timelist[name="end_time"]');u.find(`option[value="${e.time.replace(/^(?:00:)?0?/,"")}"]`).prop("selected",!0),m.find(`option[value="${n.time.replace(/^(?:00:)?0?/,"")}"]`).prop("selected",!0),window.dispatchEvent(new CustomEvent("rentMy.cart.setDateTime",{bubbles:!0,detail:{cart:this,cartRentStart:e,cartRentEnd:n,elmPopupDate:i,elmPageDate:l}}))}},resetAllDateTimes:function(){this.sidebar.$rent_start.html("Select Rental Schedule").removeAttr("data-date"),this.sidebar.$rent_end.html("").removeAttr("data-date"),this.$elm.find(".rentmy-dates").html('<span class="rentmy-selected-date">Select Rental Schedule</span>');const t=this.$datePopup.find('.rentmy-datetime-input input[type="date"]'),e=$(t[0]),n=$(t[1]);e.val(""),n.val("");const i=this.$datePopup.find('select.timelist[name="start_time"]'),a=this.$datePopup.find('select.timelist[name="end_time"]');i.find('option[value=""]').prop("selected",!0),a.find('option[value=""]').prop("selected",!0);const r=$("body").find(".rentmy-product-datetime"),s=r.find('input[type="date"]'),o=$(s[0]),l=$(s[1]);o.val(""),l.val("");const c=r.find('select.timelist[name="start_time"]'),d=r.find('select.timelist[name="end_time"]');c.find('option[value=""]').prop("selected",!0),d.find('option[value=""]').prop("selected",!0),window.dispatchEvent(new CustomEvent("rentMy.cart.resetDateTime",{bubbles:!0,detail:{cart:this,elmPopupDate:t,elmPageDate:r}}))},removeCart:function(){let t=localStorage.getItem("cart");localStorage.removeItem("cart");try{t=JSON.parse(t)}catch(t){}window.dispatchEvent(new CustomEvent("rentMy.cart.localStorage.delete",{bubbles:!0,detail:{cart:this,data:t}}))}},helpers:{getTimeRanges:function(t,e=window.navigator.language,n="8:00 AM"){const i=[],a=new Date,r={hour:"numeric",minute:"numeric"};for(let n=0;n<1440;n+=t)a.setHours(0),a.setMinutes(n),i.push(a.toLocaleTimeString(e,r));if(""!==n){let t=[];return i.forEach((e,a)=>{if(e===n){for(let e=a;e<i.length;e++)t.push(i[e]);for(let e=0;e<a;e++)t.push(i[e])}}),t}return i},currencyFormat(t){t=parseFloat(t).toFixed(2).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,");const e=STORE_CONFIG.currency_format;return e.pre?`<span class="pre">${e.symbol}</span><span class="amount">${t}</span>`:`<span class="amount">${t}</span><span class="pre">${e.symbol}</span>`},insertURLParam:function(t,e){const n=new URLSearchParams(window.location.search);null!=n.get(t)&&n.get(t).length>1&&n.delete(t),n.set(t,e),window.location.search=n},ajaxPost:async function(t,e,n){let i;"function"==typeof e&&e(t);try{return i=await $.post("",t).done(e=>{try{e=JSON.parse(e),console.log(e),"function"==typeof n&&n(t,e),"NOK"===e.status&&e.result&&"string"==typeof e.result.error&&RentMy.alert.errorAlert(e.result.error)}catch(t){console.log(t),console.log(e)}}),i}catch(t){console.error(t)}},initMultipleImagePopup:function(){const t=document.querySelector(".rentmy-product-view-image .rentmy-product-viewimage-active");function e(e){t.src=e.target.src}document.querySelectorAll(".rentmy-product-multipleimage img").forEach(t=>t.addEventListener("click",e)),$(RentMy.globalSelector).on("click",".rentmy-product-multipleimage .rentmy-product-thumb-item",(function(){$(RentMy.globalSelector).find(".rentmy-product-thumb-item").removeClass("rentmy-product-thumb-active"),$(this).addClass("rentmy-product-thumb-active")}))}},alert:{$elm:null,$parentContainer:null,html:null,type:null,icons:{success:"lni lni-checkmark-circle",error:"lni lni-warning"},setContent:function(t){this.html=t,this.$elm=$(RentMy.globalSelector).find(".rentmy-alert-message"),this.$parentContainer=$(RentMy.globalSelector).find(".rentmy-alert-message div").first(),this.$elm.find(".rentmy-alert-message-text").html(t)},error:function(){this.resetClasses(),this.type="error",this.$parentContainer.addClass("rentmy-alert-error-message"),this.$elm.find(".rentmy-alert-message-icon i").addClass(this.icons.error)},success:function(){this.resetClasses(),this.type="success",this.$parentContainer.addClass("rentmy-alert-success-message"),this.$elm.find("i").addClass(this.icons.success)},resetClasses:function(){this.$parentContainer.removeClass(),this.$elm.find("i").removeClass()},open:function(){this.$elm.removeClass("rentmy-hide").delay(4e3).queue((function(){$(this).addClass("rentmy-hide").dequeue()})),window.dispatchEvent(new CustomEvent("rentMy.alert.open",{bubbles:!0,detail:{alert:this,html:this.html,type:this.type}}))},errorAlert:function(t){this.setContent(t),this.error(),this.open()},successAlert:function(t){this.setContent(t),this.success(),this.open()}},isInit:!1,init:function(t){this.isInit=!0,Date.prototype.addHours=function(t){return this.setTime(this.getTime()+60*t*60*1e3),this},Date.prototype.mysqlFormat=function(){var t,e,n;return t=String(this.getFullYear()),1==(e=String(this.getMonth()+1)).length&&(e="0"+e),1==(n=String(this.getDate())).length&&(n="0"+n),t+"-"+e+"-"+n},Date.prototype.showTime=function(){var t=this;t.setHours(t.getHours()+2);var e=t.getHours()%12||12;return(e<10?"0":"")+e+(t.getMinutes()<10?":0":":")+t.getMinutes()+(t.getHours()<12?" AM":" PM")},$((async function(){if(void 0!==t){switch(RentMy.template.init(),t.toLowerCase()){case"home":RentMy.home.init();break;case"products":RentMy.products.init();break;case"categories":RentMy.categories.init();break;case"contact":RentMy.contact.init();break;case"checkout":await RentMy.checkout.init();break;case"cart":RentMy.cart.init()}RentMy.cartWidget.init(),window.dispatchEvent(new CustomEvent("rentMy.init",{bubbles:!0,detail:{rentMy:this,page:PAGE}}))}}))},home:{isInit:!1,init:function(){this.isInit=!0,window.dispatchEvent(new CustomEvent("rentMy.page.home.init",{bubbles:!0,detail:{home:this}}))}},products:{$modal:null,btnData:null,isPackage:0,data:null,rental_type:"buy",rent_start:null,rent_end:null,term:1,content:null!=CONTENT&&SITE_SPECIFIC,isInit:!1,init:function(){this.isInit=!0,$(RentMy.globalSelector).on("change",'input[name="rentmy-package"]',(function(){const t=$('input[name="rentmy-package"]:checked');let e=!1;null!=t.attr("data-price")&&(e=t.attr("data-price")),RentMy.products.changePriceType(t.val(),e)})).on("change",".variants",(function(){RentMy.products.changeVariant($(this))})).on("change",".rentmy-product-variants",(function(){RentMy.products.changeProductVariant($(this))})).on("click",".product-cart-btn",(function(){const t=$(RentMy.globalSelector).find(".rentmy-product-modal-overlay");RentMy.products.modalTrigger(t,$(this))})).on("click",".package-cart-btn",(function(){const t=$(RentMy.globalSelector).find(".rentmy-package-modal-overlay");RentMy.products.modalTrigger(t,$(this),1)})).on("click",".rentmy-addcart-btn",(function(){const t=$(this).attr("data-product");RentMy.products.addToCart(JSON.parse(t))})).on("click",".rentmy-product-modal-overlay",(function(){$(RentMy.globalSelector).find(".rentmy-product-modal-overlay").removeClass("is-open")})).on("click",".rentmy-package-modal-overlay",(function(){$(RentMy.globalSelector).find(".rentmy-package-modal-overlay").removeClass("is-open")})).on("click",".rentmy-modal",(function(t){t.stopPropagation()})).on("click",".rentmy-product-modal-overlay .rentmy-num-in span, .rentmy-package-modal-overlay .rentmy-num-in span",(function(){var t=$(this).parents(".rentmy-number-block").find("input.rentmy-in-num");const e=parseInt(t.attr("max"));if($(this).hasClass("rentmy-minus")){if((n=(n=parseFloat(t.val())-1)<1?1:n)<2?$(this).addClass("rentmy-dis"):$(this).removeClass("rentmy-dis"),n<0)return void RentMy.alert.errorAlert("Minimum quantity exhausted!");t.val(n)}else{var n;if((n=parseFloat(t.val())+1)>e)return void RentMy.alert.errorAlert("Maximum available quantity has been exhausted!");t.val(n),n>1&&$(this).parents(".rentmy-num-block").find(".rentmy-minus").removeClass("rentmy-dis")}return t.change(),!1})).on("change",".rentmy-filter-checkbox-list input[type=checkbox]",(function(){let t=[];$(RentMy.globalSelector).find(".rentmy-filter-checkbox-list input[type=checkbox]").each((function(){let e=$(this).val();$(this).prop("checked")&&t.push(e)})),RentMy.helpers.insertURLParam("tag",t.toString())})).on("change",".rentmy-sort-by select",(function(){RentMy.helpers.insertURLParam("sort",$(this).val())})),window.dispatchEvent(new CustomEvent("rentMy.page.products.init",{bubbles:!0,detail:{products:this}}))},getQuantity:function(){return this.$modal.find("input.rentmy-in-num").val()},format_prices:function(t){if(t.length>0){var e=t[0],n={buy:{type:!1,price:0,id:null},rent:{type:!1,price:[]}};e.base.price>0&&(n.buy.type=!0,n.buy.price=e.base.price,n.buy.id=e.base.id,n.buy.html=e.base.html);const i=t[0];if(i.fixed)n.rent.price.push({type:"",price:i.fixed.price,id:i.fixed.id,label:"",html:i.fixed.html,rent_start:i.fixed.rent_start,rent_end:i.fixed.rent_end});else for(let t in i)for(let e=0;e<i[t].length;e++)i[t][e].type=i[t][e].label,n.rent.price.push(i[t][e]);return n.rent.price.length>0&&(n.rent.type=!0),n}return t},changePriceType:function(t,e=!1){let n;if(this.rental_type=t,null!=this.data.prices?n=this.format_prices(this.data.prices):null!=this.data.price&&(n=this.format_prices(this.data.price)),"rent"===t){if(null!=n.rent.price){let i=`${SITE_SPECIFIC.others.product_list_starting_at} <b>${RentMy.helpers.currencyFormat(n.rent.price[0].price)}</b> ${SITE_SPECIFIC.others.product_list_per} ${n.rent.price[0].label}`;0!=e&&(i=`<b>${RentMy.helpers.currencyFormat(e)}</b>`),this.setModalData({priceString:i,available:this.data.available,price_type:t,formated_prices:n})}}else"buy"===t&&null!=n.buy.price&&this.setModalData({priceString:`${SITE_SPECIFIC.others.product_list_buy_now_for} <b>${RentMy.helpers.currencyFormat(n.buy.price)}</b>`,availableForSale:this.data.available_for_sale,price_type:t,formated_prices:n})},changeVariant:async function(t){const e=$(RentMy.globalSelector).find('.price-options input[name="rentmy-package"]:checked').val();if("rent"===e&&(""==this.rent_start||null==this.rent_start))return;let n={action_type:"change_package_variants",product_id:t.attr("data-package_id"),pacakge_uid:t.attr("data-package_uid"),rent_type:e},i=[],a=[];$(RentMy.globalSelector).find(".rentmy-package-single-list select").each((function(t){let e={product_id:$(this).data("product"),variant_id:$(this).val()};i.push(e),a.push($(this).val())})),n.products=i,n.variants=a;const r=await RentMy.helpers.ajaxPost(n);try{let t=JSON.parse(r);window.dispatchEvent(new CustomEvent("rentMy.page.products.changePackageVariants",{bubbles:!0,detail:{products:this,request:n,response:t}})),"OK"===t.status&&this.setModalData({available:t.result.data})}catch(t){}},changeProductVariant:async function(t){if(index=t.attr("data-index"),total=t.attr("data-total"),index!=total){current_set_id=t.attr("data-id"),next_set_id=t.attr("data-next-id");let e={action_type:"get_variant_chain",product_id:t.attr("data-product-id"),variant_id:t.val(),rent_type:"rent"};const n=await RentMy.helpers.ajaxPost(e);try{let t=JSON.parse(n);window.dispatchEvent(new CustomEvent("rentMy.page.products.changeProductVariants",{bubbles:!0,detail:{products:this,request:e,response:t}})),this.bind_select_options(next_set_id,t)}catch(t){}}else{prev_set_id=t.attr("data-prev-id");let e={action_type:"get_last_variant",product_id:t.attr("data-product-id"),variant_id:t.val(),chain_id:$("#variantSet_"+prev_set_id).val(),rent_type:"rent"};const n=await RentMy.helpers.ajaxPost(e);try{let t=JSON.parse(n);window.dispatchEvent(new CustomEvent("rentMy.page.products.changeProductVariants",{bubbles:!0,detail:{products:this,request:e,response:t}})),this.setModalData({priceString:""+t.prices[0].base.html,availableForSale:t.available})}catch(t){}}},bind_select_options:function(t,e){if(e&&e.length>0){$("#variantSet_"+t).empty().append('<option selected="selected" value="">--Select--</option>');for(var n=0;n<e.length;n++){var i=$("<option>");i.attr("value",e[n].id),i.html(e[n].name),$("#variantSet_"+t).append(i)}}},setModalData:function(t){if(window.dispatchEvent(new CustomEvent("rentMy.page.products.setModalData",{bubbles:!0,detail:{products:this,data:t}})),null!=t.images&&(this.$modal.find(".rentmy-product-multipleimage").html(t.images.map(t=>`<div class="rentmy-product-thumb-item">\n                                <img src="${t}" alt="rentmy" />\n                            </div>`)),this.$modal.find(".rentmy-product-viewimage-active").attr("src",t.images[0]),RentMy.helpers.initMultipleImagePopup()),null!=t.name&&this.$modal.find(".rentmy-product-title").html(t.name),null!=t.description&&this.$modal.find(".rentmy-modalproduct-description").html(t.description),null!=t.priceString&&this.$modal.find(".rentmy-product-price").html(t.priceString),null!=t.rental_price&&this.$modal.find(".rentmy-product-price").html(RentMy.helpers.currencyFormat(t.rental_price)),null!=t.availableForSale&&(this.$modal.find(".rentmy-product-available").html(t.availableForSale),this.$modal.find(".rentmy-in-num").attr("max",t.availableForSale)),null!=t.available&&(this.$modal.find(".rentmy-product-available").html(t.available),this.$modal.find(".rentmy-in-num").attr("max",t.available)),null!=t.prices||null!=t.price){let e;null!=t.prices?e=this.format_prices(t.prices):null!=t.price&&(e=this.format_prices(t.price));let n="",i=Math.random();if(e.buy.type){n+=`<label class="rentmy-radio" for="rentmy-buy-${i}">\n                                        <input type="radio" id="rentmy-buy-${i}" name="rentmy-package" value="buy" checked/> `+"Buy"+" <span></span>\n                                    </label>"}if(e.rent.type){let e="Rent";n+=` <label class="rentmy-radio" for="rentmy-rent-${i}">\n                                        <input type="radio" id="rentmy-rent-${i}" name="rentmy-package" data-price="${null!=t.rental_price?t.rental_price:""}" value="rent" /> `+e+"<span></span>\n                                    </label>"}this.$modal.find(".price-options").html(n),this.$modal.find('input[name="rentmy-package"]').each((function(){"rent"==$(this).val()&&$(this).trigger("click")}))}if(null!=t.isPackage&&1===t.isPackage){let e="";for(const n of t.products){if(e+=`<div class="rentmy-package-single-list">\n                                <h5>${n.name} (${n.quantity})</h5>`,n.variants.length>0){if(1==n.variants.length&&"Unassigned: Unassigned"==n.variants[0].variant_chain)break;e+=`<select data-package_uid="${t.uid}" data-package_id="${t.id}" data-product="${n.id}" class="variants">`;for(const t of n.variants)e+=`<option value="${t.id}">${t.variant_chain}</option>`;e+="</select>"}e+="</div>"}this.$modal.find(".rentmy-details-package-body span").html(e)}if(null!=t.price_type&&"rent"==t.price_type){let e="<ul>";if(t.formated_prices.rent.type)for(const n of t.formated_prices.rent.price)e+=`<li> <strong><i class="lni lni-arrow-right"></i> ${RentMy.helpers.currencyFormat(n.price)}</strong> for ${n.duration} ${n.label}</li>`;e+="</ul>",this.$modal.find(".rentmy-modal-rentbuy .rentmy-pricing-options").html(e)}else this.$modal.find(".rentmy-modal-rentbuy .rentmy-pricing-options").html("");if(null!=t.isPackage&&1!=t.isPackage){let e="";t.variant_set_list.length>0&&t.variant_list.length>0&&t.variant_set_list.forEach((n,i)=>{e+='<div class="rentmy-product-variant">',e+=`<h5>${n.name}</h5>`,e+=`<select \n                                    class="rentmy-product-variants"\n                                    data-total="${t.variant_set_list.length}"\n                                    data-id="${n.id}"\n                                    data-product-id="${t.id}"\n                                    data-next-id="${t.variant_set_list.length>i+1?t.variant_set_list[i+1].id:""}"\n                                    data-prev-id="${i>0?t.variant_set_list[i-1].id:""}"\n                                    id="variantSet_${n.id}"\n                                    data-index="${i+1}"\n                                >`,filtered_varint=t.variant_list.filter((function(t){return t.variant_set_id==n.id})),filtered_varint.forEach(t=>{e+=`<option value='${t.id}'>${t.name}</option>`}),e+="</select>",e+="</div>"}),this.$modal.find(".rentmy-modal-product-variants").html(e)}const e=this.$modal.find(".rentmy-product-available").closest("p");""===$("meta[name=rentmy_rent_start]").attr("content")?(e.addClass("rentmy-hide"),this.$modal.find(".rentmy-in-num").removeAttr("max")):e.removeClass(),this.modalOpen()},modalOpen:function(){const t=this.$modal.find("input.rentmy-in-num");t.val(1),t.trigger("change"),this.$modal.addClass("is-open")},requestProductDetails:async function(){let t={action_type:"product_details",isPackage:this.isPackage,uid:this.btnData.uid};const e=await RentMy.helpers.ajaxPost(t);try{let n=JSON.parse(e);window.dispatchEvent(new CustomEvent("rentMy.page.products.load",{bubbles:!0,detail:{products:this,request:t,response:n}})),"OK"===n.status&&(this.data=n.result.data,this.setModalData(n.result.data)),null!=n.result&&null!=n.result.message&&RentMy.alert.errorAlert(n.result.message)}catch(t){}},modalTrigger:function(t,e,n=0){this.btnData=JSON.parse(e.attr("data-product")),this.$modal=t,this.isPackage=n,this.requestProductDetails()},addToCart:function(t={}){let e={};if(null!=t.id)e.product_id=t.id,e.quantity=t.quantity,e.rental_type="rent",e.variants_products_id=t.variants_products_id,e.action_type="add_to_cart",e.product_type=t.type;else if(e={product_id:this.data.id,quantity:this.getQuantity(),rental_type:this.rental_type,action_type:"add_to_cart"},1===this.isPackage){var n=[];$("select.variants").each((function(t,e){var i={product_id:$(this).attr("data-product"),variants_products_id:$(this).val()};n.push(i)})),e.products=n,e.product_type=2,e.variants_products_id=this.data.variants_products_id}else e.product_type=1,e.variants_products_id=this.data.default_variant.variants_products_id;RentMy.cartWidget.addToCart(e)}},categories:{isInit:!1,init:function(){this.isInit=!0,window.dispatchEvent(new CustomEvent("rentMy.page.categories.init",{bubbles:!0,detail:{categories:this}}))}},cart:{isInit:!1,init:function(){this.isInit=!0,window.dispatchEvent(new CustomEvent("rentMy.page.cart.init",{bubbles:!0,detail:{cart:this}}))}},checkout:{content:SITE_SPECIFIC,billing_info:{country:"US,",first_name:"",last_name:"",mobile:"",email:"",address_line1:"",address_line2:"",city:"",zipcode:"",state:""},locations:[],shipping_info:{shipping_address1:"",shipping_address2:"",shipping_city:"",shipping_country:"US",shipping_first_name:"",shipping_last_name:"",shipping_method:"",shipping_mobile:"",shipping_name:"",shipping_state:"",shipping_zipcode:""},delivery_info:{shipping_address1:"",shipping_address2:"",shipping_city:"",shipping_country:"US",shipping_first_name:"",shipping_last_name:"",shipping_method:"",shipping_mobile:"",shipping_name:"",shipping_state:"",shipping_zipcode:""},countries:[],delivery_location:[],delivery_settings:[],zone_list:[],fulfillment_errors:[],billing_error:[],payment_errors:[],store_config:STORE_CONFIG,currency_symbol:"",base_file_url:"https://s3.us-east-2.amazonaws.com/images.rentmy.co/products/",asset_url:BASE_URL,base_url:BASE_URL,additional_services:[],cartable_additional_services:[],store_id:STORE_ID,payment_getways:[],payment_config:{},amount_to_pay:"",booking_amount:"",cart_total:"",signature_pad:"",isInit:!1,init:async function(){this.isInit=!0,window.dispatchEvent(new CustomEvent("rentMy.page.checkout.init",{bubbles:!0,detail:{checkout:this}})),this.currency_symbol=this.store_config.currency_format.symbol,this.billing_info.country="US",this.payment_config=this.store_config.payments,await this.getLocationList(),await this.getCountries(),await this.getDeliverySettings(),await this.getCartData(),await this.getAdditionalServices(),await this.getPaymentMethods(),this.signaturePad(),$(RentMy.globalSelector).on("keyup",".rentmy-billing-address input",(function(t){RentMy.checkout.billing_info[t.target.name]=t.target.value})).on("change",".rentmy-billing-address select",(function(t){RentMy.checkout.billing_info[t.target.name]=t.target.value})).on("click",".rentmy-btn-shipping-method",(function(t){$(RentMy.globalSelector).find(".renmty-checkout-shipping input,select").map((function(){null!=$(this).attr("name")&&(RentMy.checkout.shipping_info[$(this).attr("name")]=$(this).val())})),RentMy.checkout.getShippingMethods()})).on("click",".rentmy-btn-delivery-cost",(function(t){$(RentMy.globalSelector).find(".renmty-checkout-delivery input,select").map((function(){null!=$(this).attr("name")&&(RentMy.checkout.delivery_info[$(this).attr("name")]=$(this).val())})),RentMy.checkout.getDeliveryCost()})).on("click",'.rentmy-shipping-methods input[type="radio"]',(function(){RentMy.checkout.addShippingToCart($(this).val(),7)})).on("click",'.rentmy-delivery-cost input[type="radio"]',(function(){RentMy.checkout.addShippingToCart($(this).val(),2)})).on("click",'.rentmy-fulfillment input[name="rentmy-pickup-location"]',(function(){RentMy.checkout.addShippingToCart(0,1),RentMy.checkout.getCartData()})).on("click",".rentmy-optional-service-content .rentmy-btn-amount",(function(){let t=$(this).val(),e=$(this).data("servie_id");$(RentMy.globalSelector).find("#rentmy-service-"+e+" button").removeClass("rentmy-btn-active"),$(RentMy.globalSelector).find("#rentmy-service-checkbox-"+e).attr("checked",!0),$(this).addClass("rentmy-btn-active"),RentMy.checkout.update_additional_services(e,t)})).on("click",".rentmy-optional-service-content .rentmy-input-amount-btn",(function(){let t=$(this).data("id");$(RentMy.globalSelector).find("#rentmy_input_amount_area_"+t).css("display","block")})).on("click",".rentmy-optional-service-content .rentmy-optional-cancel-btn",(function(){let t=$(this).data("service_id");$(RentMy.globalSelector).find("#rentmy_input_amount_area_"+t).css("display","none")})).on("click",".rentmy-optional-service-content .rentmy-optional-ok-btn",(function(){let t=$(this).data("service_id"),e=$(RentMy.globalSelector).find("#rentmy_input_amount_area_"+t+" input").val();RentMy.checkout.update_additional_services(t,e),$(RentMy.globalSelector).find("#rentmy_input_amount_area_"+t).css("display","none")})).on("change",".rentmy-optional-service-content select",(function(){let t=$(this).data("service_id"),e=$(RentMy.globalSelector).find("#rentmy_additional_service_option_"+t).val();RentMy.checkout.set_additional_services_option(t,e)})).on("click",".rentmy-optional-service input:checkbox",(function(){let t=$(this).val();$(RentMy.globalSelector).find("#rentmy-service-checkbox-"+t).prop("checked")?RentMy.checkout.update_additional_services(t):RentMy.checkout.remove_additional_service_from_cart(t)})).on("click",".rentmy-placeorder-btn",(function(){RentMy.checkout.placeOrder()})).on("click",".rentmy-partial-payments",(function(){let t=$(this).val();"partial"==t&&(RentMy.checkout.amount_to_pay=RentMy.checkout.booking_amount),"full"==t&&(RentMy.checkout.amount_to_pay=RentMy.checkout.cart.total);let e=$(this).data("gateway_id");$(RentMy.globalSelector).find(`#rentmy-payment-content-${e} input[name=amount_to_pay]`).val(checkout.amount_to_pay)})).on("click","#rentmy-termcondition",(function(){RentMy.checkout.store_config.signature.active&&RentMy.checkout.store_config.signature.online&&($(this).prop("checked")?$(RentMy.globalSelector).find(".rentmy-signature-pad").css("display","block"):$(RentMy.globalSelector).find(".rentmy-signature-pad").css("display","none"))})).on("click",".rentmy-signature-pad .rentmy-clear-signature",(function(){RentMy.checkout.signature_pad.clear()}))},signaturePad:function(){if(this.store_config.signature.active&&this.store_config.signature.online){var t=$(RentMy.globalSelector).find("#rentmy-signature");this.signature_pad=new SignaturePad(t,{penColor:"black",backgroundColor:"white",backgroundColor:"rgb(255, 255, 255)"})}},getDeliverySettings:async function(){let t=this;const e=await RentMy.helpers.ajaxPost({action_type:"get_delivery_settings"});try{let n=JSON.parse(e);t.delivery_settings=n.delivery_settings,t.delivery_settings.instore_pickup||$(RentMy.globalSelector).find(".rentmy-fulfillment-pickup").css("display","none"),t.delivery_settings.delivery||$(RentMy.globalSelector).find(".rentmy-fulfillment-delivery").css("display","none")}catch(t){}},getCartData:async function(){let t=this;const e=await RentMy.helpers.ajaxPost({action_type:"view_cart_info"});try{let n=JSON.parse(e);"OK"==n.status&&t.bindOrderData(n.result.data)}catch(t){}},bindOrderData:function(t){window.dispatchEvent(new CustomEvent("rentMy.page.checkout.bindData",{bubbles:!0,detail:{checkout:this,data:t}}));let e="",n="";this.cart=t,this.amount_to_pay=this.cart.total,this.booking_amount=this.cart.booking??0,this.bindPaymentMethods(),t.cart_items.forEach(t=>{e+=` <div class="rentmy-order-list-box">\n                                    <div class="rentmy-order-img">\n                                        <img src="${this.imageLink(t)}"/>\n                                    </div>\n                                    <div class="rentmy-order-product-details">\n                                        <div class="rentmy-order-product-name">\n                                            ${t.product.name}&nbsp;\n                                            <strong class="rentmy-order-product-quantity">Ã—&nbsp;${t.quantity}</strong>\n                                        </div>\n                                        <div class="rentmy-order-details-bottom">\n                                            <p class="rentmy-order-quantity">Quantity: ${t.quantity}</p>\n                                            <p class="rentmy-order-product-price">Price: ${this.currency_symbol}${t.sub_total}</p>\n                                        </div>\n                                    </div>\n                                </div>`}),n+="<table>\n                                    <tbody>",t.additional_charge>0&&(n+=`<tr>\n                                <th>Optional Services </th>\n                                <td>${this.currency_symbol} ${this.priceFormat(t.additional_charge)}</td>\n                              </tr>`),n+=`<tr>\n                                    <th>Subtotal</th>\n                                    <td>${this.currency_symbol} ${this.priceFormat(t.sub_total)}</td>\n                               </tr>\n                               <tr>\n                                   <th>Shipping Charge</th>\n                                   <td>${this.currency_symbol} ${this.priceFormat(t.delivery_charge)}</td>\n                               </tr>\n                               <tr>\n                                    <th>Discount</th>\n                                    <td>${this.currency_symbol} ${this.priceFormat(t.total_discount)}</td>\n                               </tr>\n                               <tr>\n                                    <th>Tax</th>\n                                    <td>${this.currency_symbol} ${this.priceFormat(t.tax)}</td>\n                               </tr>\n\n                               <tr>\n                                     <th><strong>Total</strong></th>\n                                     <td><strong>${this.currency_symbol} ${this.priceFormat(t.total)}</strong></td>\n                               </tr>\n                             </tbody>\n                          </table>`,$(RentMy.globalSelector).find(".rentmy-checkout-ordersummery .rentmy-ordersummery-list").html(e),$(RentMy.globalSelector).find(".rentmy-checkout-ordersummery .rentmy-checkout-order-table").html(n)},getLocationList:async function(){let t=this;const e=await RentMy.helpers.ajaxPost({action_type:"location_list"});try{let n=JSON.parse(e);t.locations=n.data,t.bind_pickup_locations(t.locations)}catch(t){}},bind_pickup_locations:function(t){let e="";t.forEach(t=>{e+=`<div class="rentmy-radio-inline">\n                           <label class="rentmy-radio" for="rentmy-pickup-location">\n                                 <input type="radio" id="rentmy-pickup-location" name="rentmy-pickup-location" data-delivery='${JSON.stringify(t)}' value="${t.id}"/>\n                                       ${t.name} (${t.location})\n                                  <span></span>\n                           </label>\n                        </div>`}),$(RentMy.globalSelector).find(".rentmy-fulfillment .rentmy-pickup-location-list").html(e)},getCountries:async function(){let t=this;const e=await RentMy.helpers.ajaxPost({action_type:"countries"});try{let n=JSON.parse(e);t.countries=n,t.bind_countries_option(t.countries)}catch(t){}},bind_countries_option:function(t){let e="";t.forEach(t=>{e+=`<option value="${t.code}" ${"US"==t.code?"selected":""}>${t.name}</option>`}),$(RentMy.globalSelector).find(".rentmy-checkout-wrapper .rentmy-country").html(e)},getShippingMethods:async function(){let t=this;if(this.fulfillment_errors=[],$(RentMy.globalSelector).find(".rentmy-fulfillment .rentmy-fulfillment-error").html(""),t.shippingValidation()>0)return void t.bindFulfillmentError();let e={},n=this.shipping_info.shipping_name.trim().split(" ")[0],i=this.shipping_info.shipping_name.trim().split(" ").filter((function(t){return t!=n}));e=t.shipping_info,e.action_type="get_shipping_method",e.shipping_first_name=n,e.shipping_last_name=i.join(" ");const a=await RentMy.helpers.ajaxPost(e);try{if(e=JSON.parse(a),"OK"==e.status)t.bindShippingMethods(e.result);else{let t=`<ul class="rentmy-error"><li>${e.result.error}</li></ul>`;$(RentMy.globalSelector).find(".rentmy-fulfillment .rentmy-shipping-methods").html(t)}}catch(t){}},bindShippingMethods:function(t){let e="";if(Object.keys(t).length>0)for(var n of(e+='<p class="shipping-method-title"> Select shipping method </p>',Object.keys(t)))"flat"==n&&(e+=` <div class="rentmy-radio-inline">\n                            <label class="rentmy-radio" htmlFor="rentmy-shipping-method">\n                                <input type="radio" id="rentmy-shipping-method" data-type="7" name="rentmy-shipping-method" data-delivery='${JSON.stringify(t[n])}' value="${t[n].charge}"/>\n                               ${t[n].carrier_code} <div class="rentmy-list-price">${this.currency_symbol} ${t[n].charge}</div>\n                                <span></span>\n                            </label>\n                        </div>`),"standard"==n&&(e+=` <div class="rentmy-radio-inline">\n                            <label class="rentmy-radio" htmlFor="rentmy-shipping-method">\n                                <input type="radio" id="rentmy-shipping-method" data-type="6" name="rentmy-shipping-method" data-delivery='${JSON.stringify(t[n])}' value="${t[n].charge}"/>\n                                ${t[n].carrier_code} <div class="rentmy-list-price">$ ${t[n].charge}</div>\n                                <span></span>\n                            </label>\n                        </div>`);$(RentMy.globalSelector).find(".rentmy-fulfillment .rentmy-shipping-methods").html(e)},bindFulfillmentError:function(){let t='<ul class="rentmy-error">';this.fulfillment_errors.forEach(e=>{t+=`<li>${e}</li>`}),t+="</ul>",$(RentMy.globalSelector).find(".rentmy-fulfillment .rentmy-fulfillment-error").html(t)},getDeliveryCost:async function(){let t=this;if($(RentMy.globalSelector).find(".rentmy-fulfillment .rentmy-fulfillment-error").html(""),this.fulfillment_errors=[],t.deliveryValidation()>0)return void t.bindFulfillmentError();let e={},n=this.delivery_info.shipping_name.trim().split(" ")[0],i=this.delivery_info.shipping_name.trim().split(" ").filter((function(t){return t!=n}));e=t.delivery_info,e.action_type="get_delivery_cost",e.shipping_first_name=n,e.shipping_last_name=i.join(" ");const a=await RentMy.helpers.ajaxPost(e);try{if(e=JSON.parse(a),"OK"==e.status)if(t.delivery_settings.charge_by_zone){let t="";e.result.location.forEach(e=>{t+=`<div class="rentmy-radio-inline">\n                                        <label class="rentmy-radio">\n                                            <input type='radio' value='${e.charge}' data-delivery='${JSON.stringify(e)}' name="delivery_by_zone"/>\n                                            ${e.name}\n                                            <div class="rentmy-list-price">${this.currency_symbol}${e.charge}</div>\n                                            <span></span>\n                                        </label>\n                                     </div>`}),$(RentMy.globalSelector).find(".rentmy-fulfillment .rentmy-delivery-cost").html(t)}else{let n=e.result.location[0].charge,i=`<p>Delivery Cost ${this.currency_symbol}${n}</p>`;i+=`<input type="hidden" id="rentmy_delivery" value='${JSON.stringify(e.result.location[0])}'/>`,$(RentMy.globalSelector).find(".rentmy-fulfillment .rentmy-delivery-cost").html(i),t.addShippingToCart(n,3)}else{let t=`<ul class="rentmy-error"><li>${e.result.error}</li></ul>`;$(RentMy.globalSelector).find(".rentmy-fulfillment .rentmy-delivery-cost").html(t)}}catch(t){}},addShippingToCart:async function(t,e){let n=this;const i=await RentMy.helpers.ajaxPost({action_type:"shipping_to_cart",shipping_cost:t,shipping_method:e,tax:0,tax_id:null});try{let t=JSON.parse(i);"OK"==t.status&&1!=e&&n.bindOrderData(t.result.data)}catch(t){}},billingInfoValidation:function(){if(this.billing_error=[],this.billing_info.mobile?isNaN(parseInt(this.billing_info.mobile))&&this.billing_error.push("Mobile number is not valid."):this.billing_error.push("Mobile is required."),this.billing_info.email){/^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(this.billing_info.email)||this.billing_error.push("Email address is not valid.")}else this.billing_error.push("Email is required.");return this.billing_info.country||this.billing_error.push("Country is required."),this.billing_info.address_line1||this.billing_error.push("Address Line 1 is required."),this.billing_info.city||this.billing_error.push("City is required."),this.billing_info.state||this.billing_error.push("State is required."),this.billing_info.zipcode||this.billing_error.push("Zipcode is required."),this.billing_error.length},shippingValidation:function(){return this.fulfillment_errors=[],this.shipping_info.shipping_country||this.fulfillment_errors.push("Country is required."),this.shipping_info.shipping_address1||this.fulfillment_errors.push("Address Line 1 is required."),this.shipping_info.shipping_city||this.fulfillment_errors.push("City is required."),this.shipping_info.shipping_state||this.fulfillment_errors.push("State is required."),this.shipping_info.shipping_zipcode||this.fulfillment_errors.push("Zipcode is required."),this.fulfillment_errors.length},deliveryValidation:function(){this.fulfillment_errors=[];return this.delivery_info.shipping_country||this.fulfillment_errors.push("Country is required."),this.delivery_info.shipping_address1||this.fulfillment_errors.push("Address Line 1 is required."),this.delivery_info.shipping_city||this.fulfillment_errors.push("City is required."),this.delivery_info.shipping_state||this.fulfillment_errors.push("State is required."),this.delivery_info.shipping_zipcode||this.fulfillment_errors.push("Zipcode is required."),this.fulfillment_errors.length},getAdditionalServices:async function(){let t=this;const e=await RentMy.helpers.ajaxPost({action_type:"get_additional_services",type:"cart"});try{let n=JSON.parse(e);"OK"==n.status&&(t.additional_services=n.result.data,t.cartable_additional_services=[],t.additional_services.forEach(e=>{t.cartable_additional_services.push({id:e.id,is_selected:e.is_selected,value:e.existing?e.existing.config.user_entered:"",order_additional_charge_id:e.existing?e.existing.id:null,selected_option:null})}),this.bindAdditionalServices())}catch(t){}},is_additional_service:function(){if(0===this.additional_services.length)return!1;let t=0;return this.additional_services.forEach(e=>{e.status&&t++}),t>0},bindAdditionalServices:function(){if(!this.is_additional_service())return;let t='<div class="rentmy-row">\n                                    <div class="rentmy-additional-charge-title">Consider this optional services</div>\n                                    <div class="rentmy-column-12">';this.additional_services.forEach(e=>{t+=`<div class="rentmy-row" id="rentmy-service-${e.id}">\n                                            <div class="rentmy-checkbox-inline" >\n                                                <label class="rentmy-checkbox" for="rentmy-service-checkbox-${e.id}">\n                                                    <input type="checkbox" value="${e.id}" id="rentmy-service-checkbox-${e.id}" ${e.is_required||e.existing?"checked":""} ${e.is_required?"disabled":""}/> ${e.description} <span>&nbsp;&nbsp;</span>\n                                                </label>\n                                            </div>\n                                            <div class="rentmy-optional-service-content" id="rentmy_optional_service_content_${e.id}">\n                                                <div class="rentmy-btn-toolbar">\n                                                    <div class="rentmy-btn-group">`,e.is_required?t+=`\n                        <label style="margin-top:7px ">${"percentage"!=e.fee.type?this.currency_symbol:""}${e.fee.amounts[0]}${"percentage"==e.fee.type?"%":""}</label>`:e.fee.amounts.forEach(n=>{active_class="",active_input="",e.existing&&e.existing.config.user_entered==n&&(active_class="rentmy-btn-active"),t+=`<button type="button" class="rentmy-btn rentmy-btn-amount ${active_class}" data-servie_id="${e.id}" value="${n}">${"percentage"!=e.fee.type?this.currency_symbol:""}${n}${"percentage"==e.fee.type?"%":""}</button>`});let n="";if(1==e.input_custom&&!e.is_required){let i=!1;e.existing&&e.fee.amounts.forEach(t=>{e.existing.config.user_entered==t&&(i=!0)}),e.existing&&!i&&(n=e.existing.config.user_entered),t+=`<button type="button" class="rentmy-btn rentmy-input-amount-btn ${e.existing&&!i?"rentmy-btn-active":""}" data-id="${e.id}">Input Amount</button>`}t+="</div>",null!=e.options&&(t+=`<select data-service_id="${e.id}" id="rentmy_additional_service_option_${e.id}">`,t+="<option>--select--</option>",e.options.split(";").forEach(n=>{t+=`<option ${e.existing&&e.existing.config.selected_option==n?"selected":""}>${n}</option>`}),t+="</select>"),t+=`</div>\n                            <div class="rentmy-input-ammount-area" id="rentmy_input_amount_area_${e.id}">\n                                  <div class="rentmy-input-group">\n                                       <input type="text" value="${n}"/>\n                                       <div class="rentmy-input-group-append">\n                                            <button type="button" class="rentmy-btn rentmy-optional-ok-btn" data-service_id="${e.id}"><i class="lni lni-checkmark"></i></button>\n                                            <button type="button" class="rentmy-btn rentmy-optional-cancel-btn" data-service_id="${e.id}"><i class="lni lni-close"></i></button>\n                                       </div>\n                                  </div>\n                                </div>\n                             </div>\n                          </div>`}),t+="</div></div></div>",$(RentMy.globalSelector).find(".rentmy-checkout-ordersummery .rentmy-optional-service").html(t)},update_additional_services:function(t,e=""){let n=this;this.cartable_additional_services.map((function(i){if(i.id==t){let a=n.additional_services.filter(e=>e.id==t);i.value=""!=e?e:a[0].fee.amounts[0],i.is_selected=!0}})),this.addAdditionalChargeToCart()},set_additional_services_option:function(t,e){this.cartable_additional_services.map((function(n){n.id==t&&(n.selected_option=e)})),this.addAdditionalChargeToCart()},remove_additional_service_from_cart:function(t){this.cartable_additional_services.map((function(e){if(e.id==t)return e.is_selected=!1})),this.addAdditionalChargeToCart()},addAdditionalChargeToCart:async function(){let t=this;const e=await RentMy.helpers.ajaxPost({action_type:"add_additional_service_to_cart",additional_charges:JSON.stringify(t.cartable_additional_services)});try{JSON.parse(e);await t.getAdditionalServices(),await t.getCartData()}catch(t){}},getPaymentMethods:async function(){let t=this;const e=await RentMy.helpers.ajaxPost({action_type:"get_payment_methods"});try{let n=JSON.parse(e);t.payment_getways=n.data,t.bindPaymentMethods()}catch(t){}},isPartialRequired:function(t){if("online"!==t.type&&!t.config)return!1;if("online"!==t.type&&!t.config.is_paid)return!1;if(!this.payment_config||!this.cart.booking)return!1;let e=this.payment_config;return"percent"==e.type&&e.booking<100&&e.booking>0||"fixed"==e.type&&e.booking<this.cart.total&&e.booking>0},bindPaymentMethods:function(){let t=this,e="",n=`A ${"percent"!=t.payment_config.type?t.currency_symbol:""}${t.payment_config.booking}${"percent"==t.payment_config.type?"%":""} down payment is required to secure your reservation. Please choose an option and pay to proceed.`;t.payment_getways.forEach(i=>{let a=t.isPartialRequired(i);1==i.status&&("card"==i.online_type?(e+=`<div class="rentmy-collaps-item rentmy-payment-collaps-item">\n                                        <div class="rentmy-collaps-btn rentmy-payment-collaps-btn">\n                                            <div class="rentmy-radio-inline">\n                                                <label class="rentmy-radio" for="rentmy-payment-${i.id}">\n                                                    <input type="radio"  id="rentmy-payment-${i.id}" name="rentmy-payment-method" value="card" data-id="${i.id}" data-name="${i.name}" data-type="1" data-gateway_type="${i.type}"/> Credit Card <span></span>\n                                                </label>\n                                            </div>\n                                        </div>\n                                        <div class="rentmy-collaps-content rentmy-payment-collaps-content" id="rentmy-payment-content-${i.id}">`,a&&(e+=`<div class="rentmy-down-payment">\n                                            <p>${n}</p>\n                                            <div class="rentmy-radio-inline">\n                                                 <label class="rentmy-radio" for="rentmy-pay-full-amount-${i.id}">\n                                                    <input type="radio" class="rentmy-partial-payments" id="rentmy-pay-full-amount-${i.id}" name="rentmy-partial-payment-${i.id}" data-gateway_id="${i.id}" value="full" checked/> Pay full amount due <span></span>\n                                                </label>\n                                                 <label class="rentmy-radio" for="rentmy-pay-partial-amount-${i.id}">\n                                                    <input type="radio" class="rentmy-partial-payments" id="rentmy-pay-partial-amount-${i.id}" name="rentmy-partial-payment-${i.id}" data-gateway_id="${i.id}" value="partial" /> Pay ${t.currency_symbol}${t.cart.booking} now <span></span>\n                                                </label>\n                                                \n                                            </div>\n                                            <div class="rentmy-column-12">\n                                                        <div class="rentmy-form-group">\n                                                            <label> Amount to pay* </label>\n                                                            <input type="text" name="amount_to_pay" value="${t.amount_to_pay}"/>\n                                                        </div>\n                                                    </div>\n                                            \n                                         </div>`),e+='<div class="rentmy-payment-form">\n                                                <div class="rentmy-row">\n                                                    <div class="rentmy-column-12">\n                                                        <div class="rentmy-form-group">\n                                                            <label> Name on Card* </label>\n                                                            <input placeholder="Name on Card " type="text" name="card_name"/>\n                                                        </div>\n                                                    </div>\n                                                    <div class="rentmy-column-12">\n                                                        <div class="rentmy-form-group">\n                                                            <label> Card Number* </label>\n                                                            <input placeholder="Card Number " type="text" name="card_number"/>\n                                                        </div>\n                                                    </div>\n                                                    <div class="rentmy-column-6">\n                                                        <div class="rentmy-form-group">\n                                                            <select name="card_exp_month">\n                                                                <option value="">-Select Month-</option>\n                                                                <option value="01">01 January</option>\n                                                                <option value="02">02 February</option>\n                                                                <option value="03">03 March</option>\n                                                                <option value="04">04 April</option>\n                                                                <option value="05">05 May</option>\n                                                                <option value="06">06 June</option>\n                                                                <option value="07">07 July</option>\n                                                                <option value="08">08 August </option>\n                                                                <option value="09">09 September </option>\n                                                                <option value="10">10 October </option>\n                                                                <option value="11">11 November</option>\n                                                                <option value="12">12 December</option>\n                                                            </select>\n                                                        </div>\n                                                    </div>\n                                                    <div class="rentmy-column-6">\n                                                        <div class="rentmy-form-group">\n                                                            <select name="card_exp_year">\n                                                                <option value="">-Select Year-</option>\n                                                                <option value="20">2020</option>\n                                                                <option value="21">2021</option>\n                                                                <option value="22">2022</option>\n                                                                <option value="23">2023</option>\n                                                                <option value="24">2024</option>\n                                                                <option value="25">2025</option>\n                                                                <option value="26">2026</option>\n                                                                <option value="27">2027</option>\n                                                                <option value="28">2028</option>\n                                                                <option value="29">2029</option>\n                                                                <option value="30">2030</option>\n                                                                <option value="31">2031</option>\n                                                                <option value="32">2032</option>\n                                                                <option value="33">2033</option>\n                                                                <option value="34">2034</option>\n                                                            </select>\n                                                        </div>\n                                                    </div>\n                                                    <div class="rentmy-column-12">\n                                                        <div class="rentmy-form-group">\n                                                            <label>CVV Number*</label>\n                                                            <input placeholder="CVV Number " type="text" name="card_cvv2"/>\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>'):(e+=`<div class="rentmy-collaps-item rentmy-payment-collaps-item">\n                                        <div class="rentmy-collaps-btn rentmy-payment-collaps-btn">\n                                            <div class="rentmy-radio-inline">\n                                                <label class="rentmy-radio" for="rentmy-payment-${i.id}">\n                                                    <input type="radio" id="rentmy-payment-${i.id}" name="rentmy-payment-method" data-type="2" data-note="${i.config.add_note??!1}" data-is_paid="${i.config.is_paid??!1}" data-id="${i.id}" data-name="${i.name}" data-gateway_type="${i.type}"/>${i.name} <span></span>\n                                                </label>\n                                            </div>\n                                        </div>\n                                        <div class="rentmy-collaps-content rentmy-payment-collaps-content" id="rentmy-payment-content-${i.id}">\n                                            <div class="renmty-checkout-shipping">\n                                                `,a?e+=`<div class="rentmy-down-payment">\n                                            <p>${n}</p>\n                                            <div class="rentmy-radio-inline">\n                                                 <label class="rentmy-radio" for="rentmy-pay-full-amount-${i.id}">\n                                                    <input type="radio" class="rentmy-partial-payments" id="rentmy-pay-full-amount-${i.id}" name="rentmy-partial-payment-${i.id}" data-gateway_id="${i.id}" value="full" checked/> Pay full amount due <span></span>\n                                                </label>\n                                                 <label class="rentmy-radio" for="rentmy-pay-partial-amount-${i.id}">\n                                                    <input type="radio" class="rentmy-partial-payments" id="rentmy-pay-partial-amount-${i.id}" name="rentmy-partial-payment-${i.id}" data-gateway_id="${i.id}" value="partial" /> Pay ${t.currency_symbol}${t.cart.booking} now <span></span>\n                                                </label>\n                                                \n                                            </div>\n                                            <div class="rentmy-column-12">\n                                                        <div class="rentmy-form-group">\n                                                            <label> Amount to pay* </label>\n                                                            <input type="text" name="amount_to_pay" value="${t.amount_to_pay}"/>\n                                                        </div>\n                                                    </div>\n                                            \n                                         </div>`:i.config.is_paid&&(e+=`<div className="rentmy-column-12">\n                                <div className="rentmy-form-group">\n                                    <label> Amount to pay* </label>\n                                    <input type="text" name="amount_to_pay" value="${t.amount_to_pay}"/>\n                                </div>\n                            </div>`),i.config.add_note&&(e+='<div class="rentmy-column-12">\n                                 <div class="rentmy-form-group">\n                                  <label>Note</label>\n                                   <input type="text" name="note"/>\n                                   \n                                  </div>'),e+="</div>\n                                    </div>\n                                        </div>\n                                    </div>"))}),$(RentMy.globalSelector).find(".rentmy-checkout-payment .rentmy-collaps").html(e)},placeOrder:async function(){let t=[],e=this,n=this.billingInfoValidation();n&&t.push("Please fill billing details properly."),this.bindBillingErrors();let i=this.paymentValidation();i&&t.push("Please fill payment details properly."),this.bindPaymentError();let a=this.fulfillmentValidation();a&&t.push("Please fill fullfillment details properly."),this.bindFulfillmentError();let r=$(RentMy.globalSelector).find(".rentmy-ordersummery-checkbox #rentmy-termcondition").prop("checked");if(r||t.push("You must accept terms & conditions."),this.bindBasicErrors(t),n<=0&&i<=0&&a<=0&&r){let t={},n=$(RentMy.globalSelector).find('.rentmy-fulfillment input[name="rentmy_fulfillment"]:checked');if(t.delivery={},"delivery"===n.val()&&(t={...this.billing_info,...this.delivery_info},t.shipping_method=2,this.delivery_settings.charge_by_zone?t.delivery=$(RentMy.globalSelector).find(".rentmy-delivery-cost input[type=radio]:checked").data("delivery"):t.delivery=$(RentMy.globalSelector).find("#rentmy_delivery").val()),"shipping"===n.val()&&(t.delivery=$(RentMy.globalSelector).find(".rentmy-shipping-methods input[type=radio]:checked").data("delivery"),t={...this.billing_info,...this.shipping_info},t.shipping_method=1),"pickup"===n.val()){t={...this.billing_info,...this.shipping_info};let e=$(RentMy.globalSelector).find(".rentmy-pickup-location-list input[type=radio]:checked").val();t.delivery=$(RentMy.globalSelector).find(".rentmy-pickup-location-list input[type=radio]:checked").data("delivery"),t.rm_instore_loc=e}let i=$(RentMy.globalSelector).find('.rentmy-checkout-payment input[name="rentmy-payment-method"]:checked');t.gateway_id=i.data("id"),t.payment_gateway_type=i.data("gateway_type"),t.payment_gateway_id=i.data("id"),t.payment_gateway_name=i.data("name");let a=$("#rentmy-payment-content-"+t.gateway_id);"offline"===i.data("gateway_type")?(1==i.data("is_paid")&&(t.amount=a.find("input[name=amount_to_pay]").val()),t.note=a.find("input[name=note]").val()):(t.amount=a.find("input[name=amount_to_pay]").val(),t.card_name=a.find("input[name=card_name]").val(),t.card_no=a.find("input[name=card_number]").val(),t.exp_month=a.find("select[name=card_exp_month]").val(),t.exp_year=a.find("select[name=card_exp_year]").val(),t.cvv=a.find("input[name=card_cvv2]").val()),t.action_type="createOrder",t.type=2,t.signature=""!=this.signature_pad?this.signature_pad.toDataURL("image/jpeg",.5):"";const r=await RentMy.helpers.ajaxPost(t);try{JSON.parse(r);window.location=e.base_url+"/page/order-complete"}catch(t){}}},bindBasicErrors:function(t){let e='<ul class="rentmy-error">';t.forEach(t=>{e+=`<li>${t}</li>`}),e+="</ul>",$(RentMy.globalSelector).find(".rentmy-ordersummery-checkbox .rentmy-all-error").html(e)},fulfillmentValidation:function(){this.fulfillment_errors=[];let t=$(RentMy.globalSelector).find(".rentmy-fulfillment").find("input[type=radio]:checked");if(t.length<=0)this.fulfillment_errors.push("Please Select a fulfillment method");else{if("pickup"==t.val()&&$(RentMy.globalSelector).find(".rentmy-pickup-location-list input[type=radio]:checked").length<=0&&this.fulfillment_errors.push("Please Select a pickup location"),"shipping"==t.val()){$(RentMy.globalSelector).find(".renmty-checkout-shipping input,select").map((function(){null!=$(this).attr("name")&&(RentMy.checkout.shipping_info[$(this).attr("name")]=$(this).val())})),this.shippingValidation()<=0&&$(RentMy.globalSelector).find(".rentmy-shipping-methods input[type=radio]:checked").length<=0&&this.fulfillment_errors.push("Please select a shipping method")}if("delivery"==t.val()){$(RentMy.globalSelector).find(".renmty-checkout-delivery input,select").map((function(){null!=$(this).attr("name")&&(RentMy.checkout.delivery_info[$(this).attr("name")]=$(this).val())}));let t=this.deliveryValidation();this.delivery_settings.charge_by_zone?t<=0&&$(RentMy.globalSelector).find(".rentmy-delivery-cost input[type=radio]:checked").length<=0&&this.fulfillment_errors.push("Please select delevery cost"):0==$(RentMy.globalSelector).find("#rentmy_delivery").length&&this.fulfillment_errors.push("Please Click on get delivery cost")}}return this.fulfillment_errors.length},paymentValidation:function(){this.payment_errors=[];let t=$(RentMy.globalSelector).find(".rentmy-checkout-payment"),e=t.find('input[name="rentmy-payment-method"]:checked'),n=e.length,i=e.data("id"),a=$(RentMy.globalSelector).find("#rentmy-payment-content-"+i);if(n<=0)this.payment_errors.push("Please Select a payment method");else{let n=e.data("type");if(1==n){let e=a.find('input[name="amount_to_pay"]').val(),n=t.find('input[name="card_name"]').val(),i=t.find('input[name="card_number"]').val(),r=t.find('select[name="card_exp_month"]').val(),s=t.find('select[name="card_exp_year"]').val(),o=t.find('input[name="card_cvv2"]').val();""==n&&this.payment_errors.push("Name on your card is required"),""==i&&this.payment_errors.push("Card Number is required"),""!=r&&""!=s||this.payment_errors.push("Card expiry month and year is required"),""==o&&this.payment_errors.push("CVV number is required"),""==e&&this.payment_errors.push("Amount to pay is required")}if(2==n&&(is_paid=e.data("is_paid"),is_paid)){""===a.find('input[name="amount_to_pay"]').val()&&this.payment_errors.push("Please enter some amount to pay")}}return this.payment_errors.length},bindBillingErrors:function(){let t='<ul class="rentmy-error">';this.billing_error.forEach(e=>{t+=`<li>${e}</li>`}),t+="</ul>",$(RentMy.globalSelector).find(".rentmy-billing-address .rentmy-billing-info-error").html(t)},bindPaymentError:function(){let t='<ul class="rentmy-error">';this.payment_errors.forEach(e=>{t+=`<li>${e}</li>`}),t+="</ul>",$(RentMy.globalSelector).find(".rentmy-checkout-payment .rentmy-payment-error").html(t)},priceFormat:function(t){return parseFloat(t).toFixed(2).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")},imageLink:function(t){try{var e=this.base_file_url+this.store_id+"/"+t.product_id+"/"+t.product.images[0].image_small}catch(t){e=this.asset_url+"/assets/img/default.jpg"}return e}},contact:{isInit:!1,sendEmailFromContact:async function(t){const e=await RentMy.helpers.ajaxPost(t);try{"OK"===JSON.parse(e).status?($message="Thank you for contacting us.  We will be in touch shortly.",RentMy.alert.successAlert($message)):($message="The message may not have sent.  Please call us.",RentMy.alert.errorAlert($message))}catch(t){}},isContactFromValid:function(t){if(0===t.first_name.length)return RentMy.alert.errorAlert("First name is empty"),!1;if(0===t.last_name.length)return RentMy.alert.errorAlert("Last name is empty"),!1;if(0===t.phone.length)return RentMy.alert.errorAlert("Phone is empty"),!1;if(t.phone.length){if(!/^[- +()]*[0-9][- +()0-9]*$/.test($("#phone").val()))return RentMy.alert.errorAlert("Phone format is not valid"),!1}if(0===t.email.length)return RentMy.alert.errorAlert("Email is empty"),!1;if(t.email.length){if(!/^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,6})+$/.test($("#email").val()))return RentMy.alert.errorAlert("Email format is not valid"),!1}return 0!==t.message.length||(RentMy.alert.errorAlert("Message is empty"),!1)},init:function(){this.isInit=!0,window.dispatchEvent(new CustomEvent("rentMy.page.contact.init",{bubbles:!0,detail:{contact:this}})),$(RentMy.globalSelector).on("click","#email-submit",(function(t){const e={first_name:$("#first_name").val().trim(),last_name:$("#last_name").val().trim(),email:$("#email").val().trim(),phone:$("#phone").val().trim(),tempPhone:$("#phone").val().trim(),message:$("#message").val().trim(),action_type:"send_contact_email"};RentMy.contact.isContactFromValid(e)&&RentMy.contact.sendEmailFromContact(e)}))}}};window.addEventListener("rentMy.cart.quantityUpdate",(function(t){console.log(t)})),RentMy.init(PAGE||"home");